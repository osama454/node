<!DOCTYPE html>
<html>
<head>
  <title>Discrete Math Graph Visualizations</title>
  <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
  <style type="text/css">
    body {
      font-family: sans-serif;
    }
    .container {
      display: flex;
      justify-content: space-around;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .graph-container {
      border: 2px solid black;
      padding: 10px;
      text-align: center;
    }
  </style>
</head>
<body>

<div class="container">
  <div class="graph-container">
    <h2>Random Directed Graph</h2>
    <div id="directedGraph"></div>
  </div>

  <div class="graph-container">
    <h2>Transposed Graph</h2>
    <div id="transposedGraph"></div>
  </div>

  <div class="graph-container">
    <h2>Chromatic Coloring</h2>
    <div id="coloredGraph"></div>
  </div>
</div>

<script type="text/javascript">
  // Function to generate a random integer between min and max (inclusive)
  function getRandomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  // Function to create a random directed graph
  function generateRandomGraph(numNodes, numEdges) {
    const nodes = [];
    const edges = [];

    // Create nodes
    for (let i = 0; i < numNodes; i++) {
      nodes.push({ id: i });
    }

    // Create edges
    let edgeCount = 0;
    while (edgeCount < numEdges) {
      const from = getRandomInt(0, numNodes - 1);
      const to = getRandomInt(0, numNodes - 1);
      if (from !== to) { // Avoid self-loops
        edges.push({ from, to, arrows: 'to' });
        edgeCount++;
      }
    }

    return { nodes, edges };
  }

  // Function to transpose a graph
  function transposeGraph(graph) {
    const transposedEdges = graph.edges.map(edge => ({
      from: edge.to,
      to: edge.from,
      arrows: 'to'
    }));
    return { nodes: graph.nodes, edges: transposedEdges };
  }

  // Function to color a graph using a greedy algorithm (not optimal, but sufficient for demonstration)
  function colorGraph(graph) {
    const colors = ['#e6194b', '#3cb44b', '#ffe119', '#4363d8', '#f58231', '#911eb4', '#46f0f0', '#f032e6', '#bcf60c', '#fabebe', '#008080', '#e6beff', '#9a6324', '#fffac8', '#800000', '#aaffc3', '#808000', '#ffd8b1', '#000075', '#808080', '#ffffff', '#000000'];
    const nodeColors = {};

    graph.nodes.forEach(node => {
      const usedColors = new Set();
      graph.edges.forEach(edge => {
        if (edge.from === node.id && nodeColors[edge.to]) {
          usedColors.add(nodeColors[edge.to]);
        } else if (edge.to === node.id && nodeColors[edge.from]) {
          usedColors.add(nodeColors[edge.from]);
        }
      });

      let colorIndex = 0;
      while (usedColors.has(colors[colorIndex])) {
        colorIndex++;
      }
      nodeColors[node.id] = colors[colorIndex];
    });

    return graph.nodes.map(node => ({ ...node, color: nodeColors[node.id] }));
  }

  // Generate the random graph
  const numNodes = getRandomInt(4, 8);
  const numEdges = getRandomInt(10, 20);
  const randomGraph = generateRandomGraph(numNodes, numEdges);

  // Create the graph visualizations using vis.js
  const directedGraphOptions = {
    edges: {
      arrows: {
        to: { enabled: true, scaleFactor: 1 }
      }
    }
  };

  const directedNetwork = new vis.Network(document.getElementById('directedGraph'), randomGraph, directedGraphOptions);
  const transposedNetwork = new vis.Network(document.getElementById('transposedGraph'), transposeGraph(randomGraph), directedGraphOptions);

  // Remove arrows for the colored graph to make it undirected
  const undirectedGraphEdges = randomGraph.edges.map(edge => ({ from: edge.from, to: edge.to }));
  const coloredNetwork = new vis.Network(document.getElementById('coloredGraph'), { nodes: colorGraph(randomGraph), edges: undirectedGraphEdges }, {});
</script>

</body>
</html>